<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thông tin bài học</title>
    <link rel="stylesheet" href="./CSS/TTBH.sv.style.css">
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;500;600;700&family=Quicksand:wght@400;500;600;700&family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
  <base href="./assets/">
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <div class="side-bar" id="sidebar">
      <div class="logo">
        <img class="objects" src="objects0.svg"/>
        <div class="earn-lab">earn Lab</div>
        <img class="open-close" src="open-close0.svg"/>
      </div>
      <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
      <div class="options">
        <div class="tab-side-bar1" onclick="toggleDropdown()">
          <div class="side-text">Chương 1</div>
          <span class="arrow" id="arrow">▾</span>
        </div>
        <ul class="submenu" id="submenu">
          <div class="tab-side-bar11">
            <div class="lesson-title">1.1. Get to know each other</div>
            <div class="lesson-meta">
              <span>Video</span>
              <span class="dot"></span>
              <span>15 phút</span>
            </div>
          </div>
          <div class="tab-side-bar11">
            <div class="lesson-title">1.2. Get to know each other</div>
            <div class="lesson-meta">
              <span>Video</span>
              <span class="dot"></span>
              <span>15 phút</span>
            </div>
          </div>
          <div class="tab-side-bar11">
            <div class="lesson-title">1.3. Get to know each other</div>
            <div class="lesson-meta">
              <span>Video</span>
              <span class="dot"></span>
              <span>15 phút</span>
            </div>
          </div>
        </ul>
        <div class="tab-side-bar2">
          <div class="side-text">Chương 2</div>
        </div>
        <div class="tab-side-bar3">
          <div class="side-text">Chương 3</div>
        </div>
        <div class="tab-side-bar4">
          <div class="side-text">Chương 4</div>
        </div>
      </div>
      <div class="logout-section">
        <button class="logout-btn" onclick="logout()">
          <img src="logout-icon.svg" alt="Đăng xuất" style="width:20px; margin-right:8px; filter: brightness(0) saturate(100%) invert(0);">
          <span>Đăng xuất</span>
        </button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="user-info">
        <div class="user-avatar"></div>
        <div class="user-details">
          <div class="user-name">Nguyễn Cao Kỳ Duyên</div>
          <div class="user-id">23D192001</div>
        </div>
      </div>

      <div class="course-title">Tiếng Anh Thương Mại 1</div>
      <div class="chapter-subtitle">Chương 1 : Tên Chương 1</div>
      <div class="lesson-heading">1.1. Get to know each other</div>

      <div class="video-container">
        <video controls>
          <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
          Trình duyệt của bạn không hỗ trợ video.
        </video>
      </div>

      <!-- Comments Section -->
      <div class="comments-section">
        <div class="comments-title">Bình luận</div>

        <div id="replies2" class="replies-container hidden"></div>

        <div class="comment">
          <div class="comment-avatar"></div>
          <div class="comment-content">
            <div class="comment-header">
              <span class="comment-author">Tên sinh viên</span>
              <div class="comment-time">
                <span>20:30</span>
                <span>22/09/2025</span>
              </div>
            </div>
            <div class="comment-text">E có chút thắc mắc về vấn đề ABC được nhắc trong vid</div>
            <span class="reply-button">Phản hồi</span>
          </div>
        </div>

        <button class="replies-toggle" onclick="toggleReplies(this, 'replies1')">Ẩn phản hồi ▲</button>

        <div id="replies1" class="replies-container">
          <div class="comment" style="margin-left: 50px;">
            <div class="comment-avatar"></div>
            <div class="comment-content">
              <div class="comment-header">
                <span class="comment-author">Tên giảng viên</span>
                <div class="comment-time">
                  <span>20:30</span>
                  <span>22/09/2025</span>
                </div>
              </div>
              <div class="comment-text">Vấn đề này có thể được hiểu và giải quyết như sau:</div>
              <span class="reply-button">Phản hồi</span>
            </div>
          </div>

          <div class="comment" style="margin-left: 50px;">
            <div class="comment-avatar"></div>
            <div class="comment-content">
              <div class="comment-header">
                <span class="comment-author">Tên sinh viên</span>
                <div class="comment-time">
                  <span>20:30</span>
                  <span>22/09/2025</span>
                </div>
              </div>
              <div class="comment-text">E có chút thắc mắc về vấn đề ABC được nhắc trong vid</div>
              <span class="reply-button">Phản hồi</span>
            </div>
          </div>
        </div>
        <div class="comment">
          <div class="comment-avatar"></div>
          <div class="comment-content">
            <div class="comment-header">
              <span class="comment-author">Tên sinh viên</span>
              <div class="comment-time">
                <span>20:30</span>
                <span>22/09/2025</span>
              </div>
            </div>
            <div class="comment-text">E có chút thắc mắc về vấn đề ABC được nhắc trong vid</div>
            <span class="reply-button">Phản hồi</span>
          </div>
        </div>

        <div class="comment">
          <div class="comment-avatar"></div>
          <div class="comment-content">
            <div class="comment-header">
              <span class="comment-author">Tên sinh viên</span>
              <div class="comment-time">
                <span>20:30</span>
                <span>22/09/2025</span>
              </div>
            </div>
            <div class="comment-text">E có chút thắc mắc về vấn đề ABC được nhắc trong vid</div>
            <span class="reply-button">Phản hồi</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Comment Box -->
    <div class="add-comment-box">
      <div class="add-comment-header">
        <span class="add-comment-title">Thêm bình luận</span>
      </div>
      <textarea class="comment-input" placeholder="Bình luận của bạn ..."></textarea>
      <div class="send-button">Gửi</div>
    </div>
  </div>

  <script>
    function toggleChapter(element) {
      const lessonList = element.nextElementSibling;
      const arrow = element.querySelector('.arrow-icon');
      
      if (lessonList.classList.contains('active')) {
        lessonList.classList.remove('active');
        arrow.style.transform = 'rotate(-90deg)';
      } else {
        lessonList.classList.add('active');
        arrow.style.transform = 'rotate(0deg)';
      }
    }

    function toggleReplies(button, repliesId) {
      const repliesContainer = document.getElementById(repliesId);
      
      if (button.classList.contains('collapsed')) {
        // Hiện phản hồi
        button.classList.remove('collapsed');
        button.classList.add('active');
        button.innerHTML = 'Ẩn phản hồi ▲';
        repliesContainer.classList.remove('hidden');
      } else {
        // Ẩn phản hồi
        button.classList.add('collapsed');
        button.classList.remove('active');
        const replyCount = repliesContainer.querySelectorAll('.comment').length;
        button.innerHTML = `${replyCount} phản hồi ▼`;
        repliesContainer.classList.add('hidden');
      }
    }

    // Add hover effect to lesson items
    document.querySelectorAll('.lesson-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.lesson-item').forEach(i => i.classList.remove('active'));
        this.classList.add('active');
      });
    });

function toggleSidebar(event) {
  // Ngăn sự kiện lan sang logo
  if (event) event.stopPropagation();

  const sidebar = document.getElementById("sidebar");
  sidebar.classList.toggle("collapsed");
}

document.addEventListener("DOMContentLoaded", () => {
  const sidebar = document.getElementById("sidebar");
  const logoImg = document.querySelector(".logo img.objects");

  logoImg.addEventListener("click", (event) => {
    // Nếu sidebar đang thu gọn → mở rộng lại
    if (sidebar.classList.contains("collapsed")) {
      sidebar.classList.remove("collapsed");
    } else {
      // Nếu đang mở → về trang chủ
      window.location.href = "../Trang Chủ.html";
    }
  });

  // Gắn lại listener cho nút thu gọn
  const toggleBtn = document.querySelector(".open-close");
  if (toggleBtn) {
    toggleBtn.addEventListener("click", toggleSidebar);
  }
});

  function toggleDropdown() {
    const submenu = document.getElementById("submenu");
    const arrow = document.getElementById("arrow");
    submenu.classList.toggle("open");
    arrow.classList.toggle("rotate");
  }


  function logout() {
    if (confirm("Bạn có chắc muốn đăng xuất không?")) {
      window.location.href = "../../Đăngnhập.sv.html";
    }
  }
</script>
</body>
</html>